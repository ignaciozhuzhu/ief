<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>IFE JavaScript Task 04</title>
    <style>
    ul {
        list-style: none;
        padding-left: 5px;
    }
    
    li {
        display: inline-block;
        height: 30px;
        width: 30px;
        background-color: red;
        color: #fff;
        text-align: center;
        line-height: 30px;
    }
    </style>
</head>

<body>
    <input />
    <button>左侧入</button>
    <button>右侧入</button>
    <button>左侧出</button>
    <button>右侧出</button>
    <ul>
        <li>10</li>
        <li>3</li>
        <li>7</li>
        <li>12</li>
        <li>11</li>
        <li>30</li>
    </ul>
    <script type="text/javascript">
    (function() {

        var buttons = document.getElementsByTagName("button");
        var li = document.getElementsByTagName("li");
        var input = document.getElementsByTagName("input");
        var ul = document.getElementsByTagName("ul")[0];
        var arr = [];

        for (var m = 0; m < li.length; m++) {
            arr.push(li[m].innerText);
        }

        function isCheck(value) {
            if (value !== "" && isNaN(value) === false)
                return true
            else return false;
        }
        for (var i = 0; i < buttons.length; i++) {
            (function(i) {
                buttons[i].onclick = function() {
                    var node = document.createElement("LI");
                    var space = document.createTextNode(" ");
                    var value = input[0].value;
                    var textnode = document.createTextNode(value);
                    node.appendChild(textnode);
                    if (isCheck(value)) {
                        if (i == 0) {
                            ul.insertBefore(node, ul.childNodes[0]);
                            ul.insertBefore(space, ul.childNodes[0]);
                        } else if (i == 1) {
                            ul.appendChild(node);
                            ul.appendChild(space);
                        }
                    }
                    if (i == 2) {
                        alert(ul.childNodes[1].innerText);
                        ul.removeChild(ul.childNodes[1]);
                        ul.removeChild(ul.childNodes[0]);
                    }else if (i == 3) {
                      var len= ul.childNodes.length;
                        alert(ul.childNodes[len-2].innerText);
                        ul.removeChild(ul.childNodes[len-1]);
                        ul.removeChild(ul.childNodes[len-2]);
                    }
                }
            })(i)
        }

    })();
    </script>
</body>

</html>
